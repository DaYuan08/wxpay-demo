(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-index"],{"57ec":function(t,e,a){"use strict";var i=a("c22c"),n=a.n(i);n.a},7102:function(t,e,a){"use strict";a.r(e);var i=a("c70e"),n=a("dfcc");for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);a("57ec");var r,s=a("f0c5"),d=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"44460209",null,!1,i["a"],r);e["default"]=d.exports},"8aa5":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".home-order[data-v-44460209]{height:100vh}.order-view[data-v-44460209]{margin:%?20?%;border-bottom:%?1?% solid #f2f2f2}.order-top[data-v-44460209]{display:-webkit-box;display:-webkit-flex;display:flex;margin:%?20?% %?10?%}.order-number[data-v-44460209]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.order-state[data-v-44460209]{font-size:%?24?%}.order-bottom[data-v-44460209]{display:-webkit-box;display:-webkit-flex;display:flex;margin-bottom:%?20?%}.order-price[data-v-44460209]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.order-bottom uni-button[data-v-44460209]{font-size:%?24?%;color:#fff;border-radius:%?99?%}",""])},c22c:function(t,e,a){var i=a("8aa5");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("621c51de",i,!0,{sourceMap:!1,shadowMode:!1})},c70e:function(t,e,a){"use strict";var i,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"home"},[t.orders.length>0?a("v-uni-view",{staticClass:"home-order"},t._l(t.orders,function(e){return a("v-uni-view",{key:e.id,staticClass:"order-view"},[a("v-uni-view",{staticClass:"order-top"},[a("v-uni-view",{staticClass:"order-number"},[t._v("订单号："+t._s(e.id))]),a("v-uni-view",{staticClass:"order-state"},[t._v(t._s("0"==e.state?"待支付":"1"==e.state?"已支付":"已退款"))])],1),a("v-uni-view",{staticClass:"order-bottom"},[a("v-uni-view",{staticClass:"order-price"},[t._v("总价：￥"+t._s(t.toFix(2,e.prices)))]),a("v-uni-view",{staticClass:"order-control"},[a("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:"0"==e.state,expression:"order.state == '0'"}],attrs:{type:"primary"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.pay(e.id)}}},[t._v("去支付")]),a("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:"1"==e.state,expression:"order.state == '1'"}],attrs:{type:"warn"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.refund(e.id)}}},[t._v("退款")])],1)],1)],1)}),1):a("v-uni-view",{staticClass:"home-none"},[t._v("暂无订单")])],1)},o=[];a.d(e,"b",function(){return n}),a.d(e,"c",function(){return o}),a.d(e,"a",function(){return i})},d24c:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{orders:[]}},onShow:function(){this.query()},methods:{query:function(){var t=this;this.$api.queryOrder().then(function(e){2e3===e.data.code?t.orders=e.data.data:uni.showToast({title:"登陆过期，请重新登录",icon:"none"})})},pay:function(t){this.$api.payment(this.orders.filter(function(e){return e.id==t})[0]).then(function(t){5003===t.data.code?uni.showToast({title:"登陆过期，请重新登录",icon:"none"}):5001===t.data.code?uni.showToast({title:"操作失败，系统维护中...",icon:"none"}):WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:t.data.data.appId,timeStamp:t.data.data.timeStamp,nonceStr:t.data.data.nonceStr,package:t.data.data.packageValue,signType:t.data.data.signType,paySign:t.data.data.paySign},function(t){console.info(t),"get_brand_wcpay_request:ok"==t.err_msg&&(this.query(),uni.showToast({title:"支付成功"}))})})},refund:function(t){this.$api.refund(this.orders.filter(function(e){return e.id==t})[0]).then(function(t){2e3===t.data.code?uni.showToast({title:"申请成功"}):uni.showToast({title:"操作失败，系统维护中...",icon:"none"})})}}};e.default=i},dfcc:function(t,e,a){"use strict";a.r(e);var i=a("d24c"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);e["default"]=n.a}}]);